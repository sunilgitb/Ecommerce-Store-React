{"ast":null,"code":"import _objectSpread from \"D:\\\\React\\\\Ecommerce-Store-React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"D:\\\\React\\\\Ecommerce-Store-React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"D:\\\\React\\\\Ecommerce-Store-React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\React\\\\Ecommerce-Store-React\\\\frontend\\\\src\\\\CartContext.js\";\nimport { createContext, useState } from \"react\";\nimport { getProductData } from \"./productsStore\";\nexport var CartContext = createContext({\n  items: [],\n  getProductQuantity: function getProductQuantity() {},\n  addOneToCart: function addOneToCart() {},\n  removeOneFromCart: function removeOneFromCart() {},\n  deleteFromCart: function deleteFromCart() {},\n  getTotalCost: function getTotalCost() {}\n});\nexport function CartProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    cartProducts = _useState2[0],\n    setCartProducts = _useState2[1];\n  function getProductQuantity(id) {\n    var quantity = cartProducts.find(function (product) {\n      return product.id === id;\n    })?.quantity;\n    if (quantity === undefined) {\n      return 0;\n    }\n    return quantity;\n  }\n  function addOneToCart(id) {\n    var quantity = getProductQuantity(id);\n    if (quantity === 0) {\n      setCartProducts([].concat(_toConsumableArray(cartProducts), [{\n        id: id,\n        quantity: 1\n      }]));\n    } else {\n      setCartProducts(cartProducts.map(function (product) {\n        return product.id === id ? _objectSpread({}, product, {\n          quantity: product.quantity + 1\n        }) : product;\n      }));\n    }\n  }\n  function removeOneFromCart(id) {\n    var quantity = getProductQuantity(id);\n    if (quantity === 1) {\n      deleteFromCart(id);\n    } else {\n      setCartProducts(cartProducts.map(function (product) {\n        return product.id === id ? _objectSpread({}, product, {\n          quantity: product.quantity - 1\n        }) : product;\n      }));\n    }\n  }\n  function deleteFromCart(id) {\n    setCartProducts(function (cartProducts) {\n      return cartProducts.filter(function (currentProduct) {\n        return currentProduct.id !== id;\n      });\n    });\n  }\n  function getTotalCost() {\n    var totalCost = 0;\n    cartProducts.forEach(function (cartItem) {\n      var productData = getProductData(cartItem.id);\n      totalCost += productData.price * cartItem.quantity;\n    });\n    return totalCost;\n  }\n  var contextValue = {\n    items: cartProducts,\n    getProductQuantity: getProductQuantity,\n    addOneToCart: addOneToCart,\n    removeOneFromCart: removeOneFromCart,\n    deleteFromCart: deleteFromCart,\n    getTotalCost: getTotalCost\n  };\n  return /*#__PURE__*/React.createElement(CartContext.Provider, {\n    value: contextValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, children);\n}\nexport default CartProvider;","map":{"version":3,"names":["createContext","useState","getProductData","CartContext","items","getProductQuantity","addOneToCart","removeOneFromCart","deleteFromCart","getTotalCost","CartProvider","_ref","children","_useState","_useState2","_slicedToArray","cartProducts","setCartProducts","id","quantity","find","product","undefined","concat","_toConsumableArray","map","_objectSpread","filter","currentProduct","totalCost","forEach","cartItem","productData","price","contextValue","React","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["D:/React/Ecommerce-Store-React/frontend/src/CartContext.js"],"sourcesContent":["import { createContext, useState } from \"react\";\r\nimport { getProductData } from \"./productsStore\";\r\n\r\nexport const CartContext = createContext({\r\n  items: [],\r\n  getProductQuantity: () => {},\r\n  addOneToCart: () => {},\r\n  removeOneFromCart: () => {},\r\n  deleteFromCart: () => {},\r\n  getTotalCost: () => {},\r\n});\r\n\r\nexport function CartProvider({ children }) {\r\n  const [cartProducts, setCartProducts] = useState([]);\r\n\r\n  function getProductQuantity(id) {\r\n    const quantity = cartProducts.find(\r\n      (product) => product.id === id\r\n    )?.quantity;\r\n\r\n    if (quantity === undefined) {\r\n      return 0;\r\n    }\r\n\r\n    return quantity;\r\n  }\r\n\r\n  function addOneToCart(id) {\r\n    const quantity = getProductQuantity(id);\r\n\r\n    if (quantity === 0) {\r\n      setCartProducts([...cartProducts, { id: id, quantity: 1 }]);\r\n    } else {\r\n      setCartProducts(\r\n        cartProducts.map((product) =>\r\n          product.id === id\r\n            ? { ...product, quantity: product.quantity + 1 }\r\n            : product\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  function removeOneFromCart(id) {\r\n    const quantity = getProductQuantity(id);\r\n\r\n    if (quantity === 1) {\r\n      deleteFromCart(id);\r\n    } else {\r\n      setCartProducts(\r\n        cartProducts.map((product) =>\r\n          product.id === id\r\n            ? { ...product, quantity: product.quantity - 1 }\r\n            : product\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  function deleteFromCart(id) {\r\n    setCartProducts((cartProducts) =>\r\n      cartProducts.filter((currentProduct) => {\r\n        return currentProduct.id !== id;\r\n      })\r\n    );\r\n  }\r\n\r\n  function getTotalCost() {\r\n    let totalCost = 0;\r\n\r\n    cartProducts.forEach((cartItem) => {\r\n        const productData = getProductData(cartItem.id);\r\n        totalCost += (productData.price * cartItem.quantity);\r\n    });\r\n\r\n    return totalCost;\r\n  }\r\n\r\n  const contextValue = {\r\n    items: cartProducts,\r\n    getProductQuantity,\r\n    addOneToCart,\r\n    removeOneFromCart,\r\n    deleteFromCart,\r\n    getTotalCost\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={contextValue}>{children}</CartContext.Provider>\r\n  );\r\n}\r\n\r\nexport default CartProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module"}