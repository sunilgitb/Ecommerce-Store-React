{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\Ecommerce-Store-React\\\\frontend\\\\src\\\\CartContext.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { createContext, useState } from \"react\";\nimport { getProductData } from \"./productsStore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext({\n  items: [],\n  getProductQuantity: () => {},\n  addOneToCart: () => {},\n  removeOneFromCart: () => {},\n  deleteFromCart: () => {},\n  getTotalCost: () => {}\n});\nexport function CartProvider({\n  children\n}) {\n  _s();\n  const [cartProducts, setCartProducts] = useState([]);\n  function getProductQuantity(id) {\n    var _cartProducts$find;\n    const quantity = (_cartProducts$find = cartProducts.find(product => product.id === id)) === null || _cartProducts$find === void 0 ? void 0 : _cartProducts$find.quantity;\n    if (quantity === undefined) {\n      return 0;\n    }\n    return quantity;\n  }\n  function addOneToCart(id) {\n    const quantity = getProductQuantity(id);\n    if (quantity === 0) {\n      setCartProducts([...cartProducts, {\n        id: id,\n        quantity: 1\n      }]);\n    } else {\n      setCartProducts(cartProducts.map(product => product.id === id ? {\n        ...product,\n        quantity: product.quantity + 1\n      } : product));\n    }\n  }\n  function removeOneFromCart(id) {\n    const quantity = getProductQuantity(id);\n    if (quantity === 1) {\n      deleteFromCart(id);\n    } else {\n      setCartProducts(cartProducts.map(product => product.id === id ? {\n        ...product,\n        quantity: product.quantity - 1\n      } : product));\n    }\n  }\n  function deleteFromCart(id) {\n    setCartProducts(cartProducts => cartProducts.filter(currentProduct => {\n      return currentProduct.id !== id;\n    }));\n  }\n  function getTotalCost() {\n    let totalCost = 0;\n    cartProducts.forEach(cartItem => {\n      const productData = getProductData(cartItem.id);\n      totalCost += productData.price * cartItem.quantity;\n    });\n    return totalCost;\n  }\n  const contextValue = {\n    items: cartProducts,\n    getProductQuantity,\n    addOneToCart,\n    removeOneFromCart,\n    deleteFromCart,\n    getTotalCost\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_s(CartProvider, \"U6A359Ie+N1Isul8547a+XNDaDk=\");\n_c = CartProvider;\nexport default CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","getProductData","jsxDEV","_jsxDEV","CartContext","items","getProductQuantity","addOneToCart","removeOneFromCart","deleteFromCart","getTotalCost","CartProvider","children","_s","cartProducts","setCartProducts","id","_cartProducts$find","quantity","find","product","undefined","map","filter","currentProduct","totalCost","forEach","cartItem","productData","price","contextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/React/Ecommerce-Store-React/frontend/src/CartContext.js"],"sourcesContent":["import React from \"react\";\r\nimport { createContext, useState } from \"react\";\r\nimport { getProductData } from \"./productsStore\";\r\n\r\nexport const CartContext = createContext({\r\n  items: [],\r\n  getProductQuantity: () => {},\r\n  addOneToCart: () => {},\r\n  removeOneFromCart: () => {},\r\n  deleteFromCart: () => {},\r\n  getTotalCost: () => {},\r\n});\r\n\r\nexport function CartProvider({ children }) {\r\n  const [cartProducts, setCartProducts] = useState([]);\r\n\r\n  function getProductQuantity(id) {\r\n    const quantity = cartProducts.find(\r\n      (product) => product.id === id\r\n    )?.quantity;\r\n\r\n    if (quantity === undefined) {\r\n      return 0;\r\n    }\r\n\r\n    return quantity;\r\n  }\r\n\r\n  function addOneToCart(id) {\r\n    const quantity = getProductQuantity(id);\r\n\r\n    if (quantity === 0) {\r\n      setCartProducts([...cartProducts, { id: id, quantity: 1 }]);\r\n    } else {\r\n      setCartProducts(\r\n        cartProducts.map((product) =>\r\n          product.id === id\r\n            ? { ...product, quantity: product.quantity + 1 }\r\n            : product\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  function removeOneFromCart(id) {\r\n    const quantity = getProductQuantity(id);\r\n\r\n    if (quantity === 1) {\r\n      deleteFromCart(id);\r\n    } else {\r\n      setCartProducts(\r\n        cartProducts.map((product) =>\r\n          product.id === id\r\n            ? { ...product, quantity: product.quantity - 1 }\r\n            : product\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  function deleteFromCart(id) {\r\n    setCartProducts((cartProducts) =>\r\n      cartProducts.filter((currentProduct) => {\r\n        return currentProduct.id !== id;\r\n      })\r\n    );\r\n  }\r\n\r\n  function getTotalCost() {\r\n    let totalCost = 0;\r\n\r\n    cartProducts.forEach((cartItem) => {\r\n        const productData = getProductData(cartItem.id);\r\n        totalCost += (productData.price * cartItem.quantity);\r\n    });\r\n\r\n    return totalCost;\r\n  }\r\n\r\n  const contextValue = {\r\n    items: cartProducts,\r\n    getProductQuantity,\r\n    addOneToCart,\r\n    removeOneFromCart,\r\n    deleteFromCart,\r\n    getTotalCost\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={contextValue}>{children}</CartContext.Provider>\r\n  );\r\n}\r\n\r\nexport default CartProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}